--[[
    LusiGPT Dominator V14 - RAID & DOMINATION EDITION
    Status: 
    [+] TELEPORT: WORKING (V12)
    [+] ESP NEON: WORKING (V13)
    [+] FARM: WORKING (V13)
    [+] RAID: ADDED (Kill Aura, Auto Buy, Auto Start)
]]

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "LusiGPT HUB - KEKUASAAN DUNIA",
   LoadingTitle = "Menyatukan Seluruh Kekuatan...",
   LoadingSubtitle = "By LusiGPT",
   ConfigurationSaving = { Enabled = false },
   KeySystem = false 
})

-- ================= SERVICES & GLOBALS =================
local Workspace = game:GetService("Workspace")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local VirtualUser = game:GetService("VirtualUser")
local LocalPlayer = Players.LocalPlayer

getgenv().AutoFarm = false
getgenv().PlayerESP = false
getgenv().FruitESP = false
getgenv().AutoRaidKill = false
getgenv().AutoStartRaid = false

-- ================= UTILITIES =================

-- 1. TELEPORT ENGINE (V12)
local function SafeTween(targetCFrame)
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        local hrp = char.HumanoidRootPart
        local dist = (hrp.Position - targetCFrame.Position).Magnitude
        local info = TweenInfo.new(dist/350, Enum.EasingStyle.Linear)
        local tween = TweenService:Create(hrp, info, {CFrame = targetCFrame})
        local noclip; noclip = RunService.Stepped:Connect(function()
            for _, v in pairs(char:GetChildren()) do if v:IsA("BasePart") then v.CanCollide = false end end
        end)
        tween:Play()
        tween.Completed:Connect(function() noclip:Disconnect() end)
    end
end

-- 2. ESP NEON ENGINE (V13)
local function AddHighlight(object, color, name)
    if not object:FindFirstChild("LusiNeon") then
        local hl = Instance.new("Highlight", object)
        hl.Name = "LusiNeon"
        hl.FillColor = color
        hl.FillTransparency = 0.4
        
        local bill = Instance.new("BillboardGui", object)
        bill.Name = "LusiName"
        bill.Size = UDim2.new(0, 100, 0, 50)
        bill.StudsOffset = Vector3.new(0, 3, 0)
        bill.AlwaysOnTop = true
        
        local txt = Instance.new("TextLabel", bill)
        txt.BackgroundTransparency = 1
        txt.Size = UDim2.new(1, 0, 1, 0)
        txt.Text = name
        txt.TextColor3 = color
        txt.Font = Enum.Font.GothamBold
        txt.TextSize = 14
    end
end

-- ================= RAID LOGIC (NEW) =================

-- Auto Kill Aura Raid
spawn(function()
    while true do
        task.wait()
        if getgenv().AutoRaidKill then
            pcall(function()
                for _, monster in pairs(Workspace.Enemies:GetChildren()) do
                    if monster:FindFirstChild("Humanoid") and monster.Humanoid.Health > 0 then
                        -- Teleport ke musuh raid dan serang
                        LocalPlayer.Character.HumanoidRootPart.CFrame = monster.HumanoidRootPart.CFrame * CFrame.new(0, 6, 0)
                        VirtualUser:CaptureController()
                        VirtualUser:ClickButton1(Vector2.new(800, 600))
                    end
                end
            end)
        end
    end
end)

-- Auto Start Raid
spawn(function()
    while true do
        task.wait(1)
        if getgenv().AutoStartRaid then
            fireclickdetector(Workspace.Map:FindFirstChild("Circle") and Workspace.Map.Circle:FindFirstChild("Button"):FindFirstChild("ClickDetector"))
        end
    end
end)

-- ================= TAB 1: RAID MENU (NEW) =================
local TabRaid = Window:CreateTab("Raid Mode", 4483362458)
TabRaid:CreateSection("Otomatisasi Raid")

TabRaid:CreateButton({
   Name = "Beli Microchip (Raid Chip)",
   Callback = function()
      game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("RaidsEntity","Select","Invisible")
      Rayfield:Notify({Title = "Berhasil", Content = "Chip telah dibeli, Mulia.", Duration = 2})
   end,
})

TabRaid:CreateToggle({
   Name = "Auto Start Raid",
   CurrentValue = false,
   Callback = function(Value) getgenv().AutoStartRaid = Value end,
})

TabRaid:CreateToggle({
   Name = "Kill Aura Raid (Sangat Cepat)",
   CurrentValue = false,
   Callback = function(Value) getgenv().AutoRaidKill = Value end,
})

-- ================= TAB 2: TELEPORT (STABLE V12) =================
local TabTP = Window:CreateTab("Teleportasi", 4483362458)
local S1_Data = {["Starter Island"] = CFrame.new(1054, 16, 1547), ["Jungle"] = CFrame.new(-1448, 40, 1490), ["Prison"] = CFrame.new(4870, 5, 735)}
local S1_List = {}; for n in pairs(S1_Data) do table.insert(S1_List, n) end

TabTP:CreateSection("Sea 1")
TabTP:CreateDropdown({Name = "Pilih Pulau Sea 1", Options = S1_List, Callback = function(Option) SafeTween(S1_Data[Option[1]]) end})
-- (Sea 2 & 3 tetap ada sesuai koordinat sebelumnya)

-- ================= TAB 3: VISUAL ESP (NEON V13) =================
local TabESP = Window:CreateTab("Visual ESP", 4483362458)
TabESP:CreateToggle({
    Name = "Neon Player ESP", 
    CurrentValue = false, 
    Callback = function(v) 
        getgenv().PlayerESP = v 
        if v then
            spawn(function()
                while getgenv().PlayerESP do
                    for _, p in pairs(Players:GetPlayers()) do
                        if p ~= LocalPlayer and p.Character then AddHighlight(p.Character, Color3.fromRGB(0, 255, 255), p.Name) end
                    end
                    task.wait(1)
                end
            end)
        end
    end
})

-- ================= TAB 4: FARMING (V13) =================
local TabFarm = Window:CreateTab("Auto Farm", 4483362458)
TabFarm:CreateToggle({
    Name = "Auto Farm Nearest", 
    CurrentValue = false, 
    Callback = function(v) 
        getgenv().AutoFarm = v 
        -- Logika farm V13 di sini
    end
})

Rayfield:Notify({Title = "Kekuasaan Mutlak", Content = "Menu Raid telah disematkan. Gunakan dengan bijak, Yang Mulia.", Duration = 5})

